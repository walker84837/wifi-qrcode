<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="print.css" media="print">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
	<title>WiFi QR Code</title>
</head>
<body>
	<header>
        <a href="https://walker84837.github.io/"><i class="fas fa-home"></i></a>
        <a href="https://github.com/walker84837/"><i class="fab fa-github"></i></a>
        <a href="https://t.me/walker84837/"><i class="fab fa-telegram"></i></a>
    </header>
	<h1>WiFi QR Code Generator</h1>
	<form>
		<script src="qrcode.js"></script>
		<script>
			var QRErrorCorrectLevel = {
				L: 1,
				M: 0,
				Q: 3,
				H: 2
			};

			var qrCodeImage = document.createElement('img');

			function generateQRCode() {
				var ssid = document.getElementById("ssid").value;
				var password = document.getElementById("password").value;
				document.getElementById("qr-code-container").innerHTML = ""; // delete old QR code

				var qrCode = new QRCode(document.getElementById("qr-code-container"), {
					text: "WIFI:S:" + ssid + ";T:WPA;P:" + password + ";;",
					width : 256,
					height : 256,
					typeNumber : 4,
					colorDark : "#000000",
					colorLight : "#ffffff",
					correctLevel : QRErrorCorrectLevel.H
				});
				qrCodeImage.src = qrCode._el.firstChild.toDataURL(); // get data URL from generated QR code
				document.getElementById("qr-code-container").appendChild(qrCodeImage);
			}

			function exportQRCode() {
				var canvas = document.createElement('canvas');
				canvas.width = qrCodeImage.width;
				canvas.height = qrCodeImage.height;
				var context = canvas.getContext('2d');
				context.drawImage(qrCodeImage, 0, 0);
				var a = document.createElement('a');
				a.href = canvas.toDataURL();
				a.download = 'QRcode.png';
				a.click();
			}
		</script>
		<label for="ssid">Network Name (SSID)</label>
		<input type="text" id="ssid" name="ssid" required>
		<br>
		<label for="password">Password</label>
		<input type="password" id="password" name="password" required>
		<br><br>
		<button type="button" onclick="generateQRCode()">Generate QR Code</button>
		<button type="button" id="export-btn" onclick="exportQRCode()">Export as PNG</button>

	</form>
	<div id="qr-code-container"></div>
</body>
</html>
